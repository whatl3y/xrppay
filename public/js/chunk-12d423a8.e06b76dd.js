(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12d423a8"],{"56dc":function(t,e,a){},"6c8b":function(t,e,a){"use strict";var r=a("56dc"),n=a.n(r);n.a},f958:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 offset-lg-2 my-4"},[a("div",{staticClass:"card border-0"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row small-gutters"},[a("div",{staticClass:"col-lg-6 mb-2"},[a("div",[t._v("Wallet Balance: "),a("i",{staticClass:"clickable fa fa-sync-alt",attrs:{id:"refresh-wallet"},on:{click:t.refreshWallet}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.userXrpWalletCurrentAmount>1,expression:"userXrpWalletCurrentAmount > 1"}],staticClass:"ml-1 clickable fa fa-share",attrs:{id:"send-ripple-button","data-toggle":"modal","data-target":"#send-xrp-modal"}})]),a("div",{staticClass:"text-large"},[t._v(t._s(t.userXrpWalletCurrentAmount)+" XRP ≈ $"+t._s(t.currentAmountUsd)+" USD")]),a("b-tooltip",{attrs:{target:"refresh-wallet",placement:"rightbottom"}},[t._v("Is your wallet missing a credit or debit you expect to see? We have background workers running constantly to ensure the integrity and accuracy of all balances, but you can force an off-schedule automated review of your wallet balance by clicking here.")]),a("b-tooltip",{attrs:{target:"send-ripple-button",placement:"rightbottom"}},[t._v("Send currency from this wallet to another external wallet.")])],1),a("div",{staticClass:"col-lg-6 text-right small"},[t._m(0),a("div",[t._v("1 XRP ≈ $"+t._s(t.xrpExchangePrice||"N/A")+" USD")]),a("div",{staticClass:"small"},[t._v("Updated "+t._s(t.exchangeUpdated))]),a("b-tooltip",{attrs:{target:"exchange-rate-info",placement:"left"}},[t._v("We use Coinbase's spot price as the exchange rate between fiat and cryptocurrencies. This price usually sits somewhere between the buy and sell price at any point in time.")])],1)])])]),a("div",{staticClass:"card mt-4"},[t._m(1),a("div",{staticClass:"card-body"},[t._m(2),a("div",[a("div",{staticClass:"text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 offset-lg-2"},[a("div",{staticClass:"form-group"},[a("label",[t._v("XRP Address")]),a("div",[a("code",{staticClass:"p-1"},[t._v(t._s(t.xrpAddress.mod2))])])]),a("div",{staticClass:"form-group"},[t._m(3),a("b-tooltip",{attrs:{target:"#fund-account-tag-info",placement:"right"}},[t._v("Make sure you include the tag when sending XRP to this address. If you send XRP without specifying the tag here we cannot fund your account.")]),a("div",[a("code",{staticClass:"p-1"},[t._v(t._s(t.xrpAddress.mod1))])])],1)])])])])]),t._m(4),a("div",{staticClass:"card-body"},[a("privacy-card-info")],1)])]),t.userXrpWalletCurrentAmount>1?a("send-xrp-modal",{attrs:{id:"send-xrp-modal"}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"fa fa-info-circle",attrs:{id:"exchange-rate-info"}}),t._v(" Exchange Rate")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header"},[a("h4",{staticClass:"m-0"},[t._v("1. Fund Your Account")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-4 small"},[a("div",[t._v("Send Ripple (XRP) to this address & tag combo.")]),a("div",{staticClass:"mt-2"},[a("strong",[t._v("Make sure you include the tag when sending XRP to this address. If you send XRP without specifying the tag we cannot fund your account.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{id:"fund-account-tag-info"}},[t._v("XRP Tag"),a("sup",{staticClass:"text-danger"},[t._v("*")]),t._v(" "),a("i",{staticClass:"fa fa-info-circle"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header border-top"},[a("h4",{staticClass:"m-0"},[t._v("2. Use Card Info at Merchant")])])}],i=a("a34a"),c=a.n(i),s=a("901e"),o=a.n(s),u=a("f817"),l=a("2f62"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-tabs mb-4"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:"activeCard"===t.activeTab&&"active",on:{click:function(e){t.activeTab="activeCard"}}},[t._v("Active Card")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:"txnHistory"===t.activeTab&&"active",on:{click:function(e){t.activeTab="txnHistory"}}},[t._v("Transaction History")])])]),"activeCard"===t.activeTab?a("div",[t.privacyCard?a("div",{staticClass:"row small-gutters"},[a("div",{staticClass:"col-12 mb-4 text-center small"},[t._v("Use your virtual card anywhere online that accepts Visa prepaid debit cards. After you "),a("button",{staticClass:"btn btn-vsm btn-primary",on:{click:t.lockCard}},[t._v("Lock")]),t._v(" your card below your card will be temporarily loaded with funds up to the amount available in your wallet (max of $"+t._s(t.maxTransaction)+" per transaction).")]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("div",[a("strong",[t._v(t._s(t.privacyCard.friendly_name))])])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("credit-card",{attrs:{type:"visa",pan:t.cardNumber,cvv:t.privacyCard.cvv,"exp-month":t.privacyCard.exp_month,"exp-year":t.privacyCard.exp_year}})],1)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body py-2"},[a("div",{staticClass:"row small-gutters"},[a("div",{staticClass:"col-lg-4 mb-3"},[a("div",{staticClass:"form-group m-0"},[a("label",[t._v("Type")]),a("div",[a("strong",[t._v(t._s(t.privacyCard.type.replace(/_/g," ")))])])])]),a("div",{staticClass:"col-lg-4 mb-3"},[a("div",{staticClass:"form-group m-0"},[a("label",[t._v("State")]),a("div",[a("strong",[t._v(t._s(t.privacyCard.state))])])])]),a("div",{staticClass:"col-lg-4 mb-3"},[a("div",{staticClass:"form-group m-0"},[t._m(0),a("b-tooltip",{attrs:{target:"#spend-limit-info"}},[t._v("Your spend limit will be up to the amount of currency in your wallet (up to a max of $"+t._s(t.maxTransaction)+") minus "+t._s(t.percentTake)+"% that is taken as a fee on any transaction you make. This pays our bills so we can keep this service up and running.")]),a("div",[a("strong",[t._v("$"+t._s(t.privacyCardLimitUsd))])])],1)]),a("div",{staticClass:"col-12 d-flex justify-content-center"},[a("div",[a("button",{staticClass:"btn btn-lg btn-primary",attrs:{id:"lock-privacy-card"},on:{click:t.lockCard}},[t._v("Lock "),a("i",{staticClass:"fa fa-info-circle"})]),a("b-tooltip",{attrs:{target:"lock-privacy-card",placement:"right"}},[t._v("Locking your card temporarily adds funds to your card you can spend at your merchant of choice (up to a maximum of $"+t._s(t.maxTransaction)+" per transaction). We calculate the exchange rate of your cryptocurrency wallet at the time you lock the card to add funds to it, and the card is active for up to 10 minutes. After 10 minutes if you don't use your card, it will be paused again and you'll have to re-lock at the latest exchange rate.")])],1)])])])]),"OPEN"===t.privacyCard.state&&t.changingCardActiveDuration?a("div",{staticClass:"mt-2 text-danger text-center"},[a("div",{staticClass:"mb-2 small"},[t._v("Your card is loaded and ready to use. After the following time it will be PAUSED and require relocking at the latest exchange rate.")]),a("div",[a("strong",[t._v(t._s(t.changingCardActiveDuration.minutes()))]),t._v(" min, "),a("strong",[t._v(t._s(t.changingCardActiveDuration.seconds()))]),t._v(" sec remaining")])]):t._e()])]):a("div",[a("div",{staticClass:"alert alert-warning mb-0"},[t._v("No active card available to use at a merchant. Once you fund your account we will automatically create a card for you to use at your merchant of choice.")])])]):t._e(),"txnHistory"===t.activeTab?a("div",[a("privacy-transaction-history")],1):t._e()])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"nowrap"},[t._v("Spend Limit "),a("i",{staticClass:"fa fa-info-circle",attrs:{id:"spend-limit-info"}})])}],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-bordered"},[t._m(0),a("tbody",[0===t.transactions.data.length?a("tr",[t._m(1)]):t._l(t.transactions.data,(function(e,r){return a("tr",[a("td",[t._v(t._s(t.getRowNumber(r)))]),a("td",[t._v(t._s(t.getFormattedDate(e.transaction_created_at)))]),a("td",[t._v(t._s(e.merchant_descriptor))]),a("td",[t._v("$"+t._s(t.formatMoney(e.amount_cents)))]),a("td",[t._v(t._s(e.result))])])})),a("tr",[a("td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"d-flex justify-content-end"},[a("pagination",{attrs:{info:t.transactions},on:{changePage:t.changePage,changePerPage:t.changePerPage}})],1)])])],2)])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Timestamp")]),a("th",[t._v("Merchant")]),a("th",[t._v("Amount (USD)")]),a("th",[t._v("Result")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"100%"}},[a("i",[t._v("No transactions yet...")])])}],m=a("25db"),h=a("f259");function g(t,e,a,r,n,i,c){try{var s=t[i](c),o=s.value}catch(u){return void a(u)}s.done?e(o):Promise.resolve(o).then(r,n)}function y(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function c(t){g(i,r,n,c,s,"next",t)}function s(t){g(i,r,n,c,s,"throw",t)}c(void 0)}))}}var b={lockBurnerCard:function(){return y(c.a.mark((function t(){var e;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["a"])("/api/1.0/privacy/card/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 2:return e=t.sent,t.next=5,Object(h["a"])(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()},getTransactionHistory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return y(c.a.mark((function a(){var r;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(m["a"])("/api/1.0/privacy/transaction/history?page=".concat(t||"","&perPage=").concat(e||""));case 2:return r=a.sent,a.next=5,Object(h["a"])(r);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}};function w(t,e,a,r,n,i,c){try{var s=t[i](c),o=s.value}catch(u){return void a(u)}s.done?e(o):Promise.resolve(o).then(r,n)}function _(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function c(t){w(i,r,n,c,s,"next",t)}function s(t){w(i,r,n,c,s,"throw",t)}c(void 0)}))}}var C={data:function(){return{transactions:{currentPage:1,data:[],numberPages:1,perPage:5,totalCount:0}}},methods:{getFormattedDate:function(t){return Object(u["a"])(t).format("MMMM Do, YYYY h:mm a")},formatMoney:function(t){return new o.a(t).dividedBy(100).toFixed(2)},getRowNumber:function(t){return this.transactions.perPage*(this.transactions.currentPage-1)+(t+1)},changePage:function(t){var e=this;return _(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.transactions.currentPage=t,a.next=3,e.getTxns();case 3:case"end":return a.stop()}}),a)})))()},changePerPage:function(t){var e=this;return _(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.transactions.perPage=t,a.next=3,e.getTxns();case 3:case"end":return a.stop()}}),a)})))()},getTxns:function(){var t=this;return _(c.a.mark((function e(){var a,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getTransactionHistory(t.transactions.currentPage,t.transactions.perPage);case 3:a=e.sent,r=a.transactions,t.transactions=r,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),window.toastr.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},created:function(){var t=this;return _(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getTxns();case 2:case"end":return e.stop()}}),e)})))()}},x=C,P=a("2877"),k=Object(P["a"])(x,p,f,!1,null,null,null),O=k.exports;function A(t,e,a,r,n,i,c){try{var s=t[i](c),o=s.value}catch(u){return void a(u)}s.done?e(o):Promise.resolve(o).then(r,n)}function j(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function c(t){A(i,r,n,c,s,"next",t)}function s(t){A(i,r,n,c,s,"throw",t)}c(void 0)}))}}function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){$(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function $(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var E={data:function(){return{activeTab:"activeCard",changingCardActiveDuration:null,changingCardActiveInterval:null,privacyActiveSecondsRemaining:null}},computed:T({},Object(l["b"])({maxTransaction:function(t){return new o.a(t.systemConfig.maxmimumPerTransaction||0).toFixed(2)},percentTake:function(t){return new o.a(1).minus(t.systemConfig.percentPerTransaction).times(100).toString()},privacyCard:function(t){return t.privacy.card},privacyCardLimitUsd:function(t,e){return e.getPrivacyCardLimitUsd},privacyActiveExpSeconds:function(t){return t.privacy.activeExpirationSeconds}}),{cardNumber:function(){return((this.privacyCard.card_number||"").match(/\d{4}/g)||[]).join(" ")}}),watch:{privacyActiveExpSeconds:function(t){var e=this;!t||t<=0||(this.changingCardActiveInterval=this.changingCardActiveInterval||setInterval((function(){e.privacyActiveSecondsRemaining=e.privacyActiveSecondsRemaining?e.privacyActiveSecondsRemaining-1:t;var a=u["a"].duration(e.privacyActiveSecondsRemaining,"seconds");if(!e.privacyActiveSecondsRemaining||e.privacyActiveSecondsRemaining<=0)return e.changingCardActiveDuration=null,clearInterval(e.changingCardActiveInterval),e.changingCardActiveInterval=null;e.changingCardActiveDuration=a}),1e3))}},methods:{lockCard:function(){return j(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.lockBurnerCard();case 3:window.toastr.success("Successfully updated your card! Your spend limit is updated, please use your card within 10 minutes or you will have to relock it later."),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),window.toastr.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},components:{PrivacyTransactionHistory:O}},R=E,D=Object(P["a"])(R,d,v,!1,null,null,null),X=D.exports;function I(t,e,a,r,n,i,c){try{var s=t[i](c),o=s.value}catch(u){return void a(u)}s.done?e(o):Promise.resolve(o).then(r,n)}function U(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var i=t.apply(e,a);function c(t){I(i,r,n,c,s,"next",t)}function s(t){I(i,r,n,c,s,"throw",t)}c(void 0)}))}}function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(Object(a),!0).forEach((function(e){N(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function N(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var L={data:function(){return{spotPriceInterval:null}},computed:M({},Object(l["b"])({xrpAddress:function(t){return t.ripple.address},xrpExchangePrice:function(t){return t.exchangePrices.xrp},exchangeUpdated:function(t){return Object(u["a"])(t.exchangePricesLastUpdated).format("h:mm:ss a")},userXrpWallet:function(t){return t.wallets.xrp||{}},currentAmountUsd:function(t){return new o.a(t.calculateAmountUsd("xrp",this.userXrpWallet.current_amount||0)).toFixed(2)}}),{userXrpWalletCurrentAmount:function(){return new o.a(this.userXrpWallet.current_amount||0).toFixed(2)}}),methods:{refreshWallet:function(){this.$socket.emit("refreshUserWallet","xrp"),window.toastr.success("Sit tight, we're ensuring your wallet balance is correct!")},init:function(){var t=this;return U(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$socket.emit("getSpotPrice",{type:"XRP"}),t.$socket.emit("privacyGetActiveCard"),t.$socket.emit("rippleGetAddress"),t.$socket.emit("walletGetUserWallets"),t.$socket.emit("getSystemConfig"),t.spotPriceInterval=t.spotPriceInterval||setInterval((function(){return t.$socket.emit("getSpotPrice",{type:"XRP"})}),1e4);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return U(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$socket.on("refresh",U(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),e.next=3,t.init();case 3:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearInterval(this.spotPriceInterval)},components:{PrivacyCardInfo:X}},Y=L,F=(a("6c8b"),Object(P["a"])(Y,r,n,!1,null,"01c5d794",null));e["default"]=F.exports}}]);
//# sourceMappingURL=chunk-12d423a8.e06b76dd.js.map